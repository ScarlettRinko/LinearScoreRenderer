# 线性乐谱渲染器
本项目用于将线性乐谱转换为 midi 文件或音频。

乐谱的行分为参数行和乐谱行。参数行用于修改演奏参数，乐谱行用于描述音符。

## 参数行
参数行可以修改演奏参数，下一行起将使用新参数进行演奏。所有参数大小写敏感。

- 谱号：以 `1=` 开头，后接 `CDEFGAB` 其一，然后可以选择接 `#b.,` 表示半音和八度，详见乐谱格式一节。

- BPM：以数字开头并以 `bpm` 结尾。

不同参数间使用空格连接。参数无顺序。

若首行未指定参数，则默认为 `1=C 120bpm`。若参数行未指定某一参数，则继承该行以前的该项参数值。

一些正确的参数行样例：`1=G 100bpm`，`1=Bb. 70bpm`，`1=A`。

## 乐谱格式
用 1 至 7 七个数字代表七个音符，其后可以接后缀表示音高和时值。

- 音高：高半音`#`，低半音`b`，高八度`.`，低八度`,`。

- 时值：八分音符`*`，四分音符`-`，四分附点`~`，二分音符`=`，全音符`+`，十六分`^`，三十二分`'`。

后缀可以叠加且无顺序。无时值后缀则默认八分音符。

一些音符示例：八分do`1`，四分sol`5-`，高八度四分do`1.-`，2.5拍即二分加八分do`1=*`。

## 乐谱示例

### 鸟之诗
```
1=D 122bpm
6,-7,153-32^3^=-
23527,17,-7,6,^3,^=~
6,-7,153-32^3^=-
235351.7*^6*^3^=
23-5-6-7-3-32^3^=-
23527,17,-7,6,^3,^=~
6,-7,153-32^3^=-
235351.7+6=-6-7+6+~
1=B
66*^6*^66*^5*^5-6-71.*^7*^6-33=-2-1-~
66*^6*^66*^5*^5-3-56*^7*^1.*+=~
66*^6*^66*^5*^5-6-71.*^7*^6-33=-2-1-~
33*^3*^32*^3*^5-3-56=1.-7-6=-
1=C#
4-3332^3^=-3-4-5-2~7,7,=~7,12~
3336,^3^+-212-212565+*
3-36,^3^=-3-4-5-2~7,7,=~7,12~
1=E
3-36,^3^+-212-2123-3=
```
